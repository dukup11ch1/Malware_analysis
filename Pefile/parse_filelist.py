import os

def allfiles(path):
    res = []
    
    try :
        for root, dirs, files in os.walk(path):
            del dirs
            rootpath = os.path.join(os.path.abspath(path), root)

            for file in files:
                filepath = os.path.join(rootpath, file)
                res.append(filepath)
    except:
        pass

    return res

def PEfiles(path):
    res = []
    exef=["exe","EXE","dll","DLL"]
    try :
        for root, dirs, files in os.walk(path):
            del dirs
            rootpath = os.path.join(os.path.abspath(path), root)

            for file in files:
                filepath = os.path.join(rootpath, file)
                if filepath[-3:] in exef:
                    res.append(filepath)
    except:
        pass

    return res